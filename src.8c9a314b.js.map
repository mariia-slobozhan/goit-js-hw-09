{"version":3,"sources":["js/gallery-items.js","js/refs/refs.js","js/gallery.js","index.js"],"names":["preview","original","description","refs","galleryList","document","querySelector","modal","modalImg","activeIndex","markUp","galleryItems","map","openModal","event","preventDefault","target","classList","contains","forEach","el","index","includes","dataset","source","add","src","window","addEventListener","keyboardManipulation","closeModal","nodeName","remove","removeEventListener","key","length","openByEnter","insertAdjacentHTML","join"],"mappings":";AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACX,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DJ,QAAA,QAAA;;ACAR,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,MAAMC,EAAM,CACfC,YAAaC,SAASC,cAAc,eACpCC,MAAOF,SAASC,cAAc,gBAC9BE,SAAUH,SAASC,cAAc,qBAH9B,QAAA,KAAA;;ACmGN,aAnGD,IAAA,EAAA,EAAA,QAAA,oBACA,EAAA,QAAA,eAkGC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA7FD,IAAIG,EAAc,KAElB,MAAMC,EAASC,EAAaC,QAAAA,IAAI,EAAEZ,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,qFAIvCD,0BACOA,uEAIND,4BACQC,oBACRC,mCAWf,SAASW,EAAUC,GACfA,EAAMC,iBAECD,EAAME,OAAOC,UAAUC,SAAS,oBAIvCR,EAAOS,QAAQ,CAACC,EAAIC,KACZD,EAAGE,SAASR,EAAME,OAAOO,QAAQC,UACjCf,EAAcY,KAKjBd,EAAAA,KAAAA,MAAMU,UAAUQ,IAAI,WACpBjB,EAAAA,KAAAA,SAASkB,IAAMZ,EAAME,OAAOO,QAAQC,OAEzCG,OAAOC,iBAAiB,UAAWC,IAGvC,SAASC,EAAWhB,GACU,QAA1BA,EAAME,OAAOe,WAGZxB,EAAAA,KAAAA,MAAMU,UAAUe,OAAO,WACvBxB,EAAAA,KAAAA,SAASkB,IAAM,IAEpBC,OAAOM,oBAAoB,UAAWJ,IAKtC,SAASA,EAAsBf,GACpBA,OAAAA,EAAMoB,KACJ,IAAA,SACDJ,EAAWhB,GACX,MAEAL,KAAAA,EAAcE,EAAawB,QAAAA,OAAS,GAAK,aAC1C1B,GAAe,EACVD,EAAAA,KAAAA,SAASkB,IAAMf,EAAaF,QAAAA,GAAaR,SAC9C,MAEAQ,KAAAA,EAAc,GAAK,YACpBA,GAAe,EACVD,EAAAA,KAAAA,SAASkB,IAAMf,EAAaF,QAAAA,GAAaR,SAC9C,MAEDQ,KAAAA,IAAgBE,EAAawB,QAAAA,OAAS,GAAK,aAC5C1B,EAAc,EACTD,EAAAA,KAAAA,SAASkB,IAAMf,EAAaF,QAAAA,GAAaR,SAC9C,MAECQ,KAAgB,IAAhBA,GAAqB,YACtBA,EAAcE,EAAawB,QAAAA,OAAS,EAC/B3B,EAAAA,KAAAA,SAASkB,IAAMf,EAAaF,QAAAA,GAAaR,UAMtD,SAASmC,EAAYtB,GACbA,EAAME,OAAOC,UAAUC,SAAS,kBAAkC,UAAdJ,EAAMoB,KAG9DrB,EAAUC,GAtEdX,EAAKC,KAAAA,YAAYiC,mBAAmB,aAAc3B,EAAO4B,KAAK,KAC9DnC,EAAKC,KAAAA,YAAYwB,iBAAiB,QAASf,GAC3CV,EAAKI,KAAAA,MAAMqB,iBAAiB,QAASE,GACrCH,OAAOC,iBAAiB,UAAWQ;;AC5BnC,aAAA,QAAA","file":"src.8c9a314b.js","sourceRoot":"../src","sourcesContent":["export default [\n    {\n      preview:\n        \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg\",\n      original:\n        \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg\",\n      description: \"Hokkaido Flower\",\n    },\n    {\n      preview:\n        \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg\",\n      original:\n        \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg\",\n      description: \"Container Haulage Freight\",\n    },\n    {\n      preview:\n        \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg\",\n      original:\n        \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg\",\n      description: \"Aerial Beach View\",\n    },\n    {\n      preview:\n        \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg\",\n      original:\n        \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg\",\n      description: \"Flower Blooms\",\n    },\n    {\n      preview:\n        \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg\",\n      original:\n        \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg\",\n      description: \"Alpine Mountains\",\n    },\n    {\n      preview:\n        \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg\",\n      original:\n        \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg\",\n      description: \"Mountain Lake Sailing\",\n    },\n    {\n      preview:\n        \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg\",\n      original:\n        \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg\",\n      description: \"Alpine Spring Meadows\",\n    },\n    {\n      preview:\n        \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg\",\n      original:\n        \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg\",\n      description: \"Nature Landscape\",\n    },\n    {\n      preview:\n        \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg\",\n      original:\n        \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg\",\n      description: \"Lighthouse Coast Sea\",\n    },\n  ];","export const refs ={\n    galleryList: document.querySelector(\".js-gallery\"),\n    modal: document.querySelector(\".js-lightbox\"),\n    modalImg: document.querySelector(\".lightbox__image\"),\n\n}","import galleryItems from \"./gallery-items\"\nimport {refs} from \"./refs/refs\"\n\n// console.log(galleryItems);\n// console.log(refs);\n\nlet activeIndex = null;\n\nconst markUp = galleryItems.map(({preview, original, description}) => {\n    return `<li class=\"gallery__item\">\n    <a\n      class=\"gallery__link\"\n      href=\"${original}\"\n      data-source=\"${original}\"\n    >\n      <img\n        class=\"gallery__image\"\n        src=\"${preview}\"\n        data-source=\"${original}\"\n        alt=\"${description}\"\n      />\n    </a>\n  </li>`\n});\n\nrefs.galleryList.insertAdjacentHTML(\"afterbegin\", markUp.join(\"\"))\nrefs.galleryList.addEventListener(\"click\", openModal)\nrefs.modal.addEventListener(\"click\", closeModal)\nwindow.addEventListener(\"keydown\", openByEnter)\n\nfunction openModal(event) {\n    event.preventDefault()\n    // if(event.target.nodeName !== \"IMG\"){\n        if(event.target.classList.contains(\"gallery__image\" || \"gallery__link\")){\n        return;\n    }\n\n    markUp.forEach((el, index) => {\n        if (el.includes(event.target.dataset.source)){\n            activeIndex = index\n        } \n    })\n\n\n    refs.modal.classList.add(\"is-open\")\n    refs.modalImg.src = event.target.dataset.source\n\n    window.addEventListener(\"keydown\", keyboardManipulation)\n}\n\nfunction closeModal(event) {\nif (event.target.nodeName === \"IMG\") {\n    return;\n}\nrefs.modal.classList.remove(\"is-open\")\nrefs.modalImg.src = \" \"\n\nwindow.removeEventListener(\"keydown\", keyboardManipulation)\n}\n\n\n\nfunction keyboardManipulation (event) {\n    switch(event.key){\n        case \"Escape\":\n            closeModal(event)   \n            break;\n\n       case activeIndex < galleryItems.length - 1 && \"ArrowRight\":\n           activeIndex += 1;\n           refs.modalImg.src = galleryItems[activeIndex].original\n           break;\n\n      case activeIndex > 0 && \"ArrowLeft\":\n          activeIndex -= 1;\n          refs.modalImg.src = galleryItems[activeIndex].original\n          break;\n\n    case activeIndex === galleryItems.length - 1 && \"ArrowRight\":\n        activeIndex = 0;\n        refs.modalImg.src = galleryItems[activeIndex].original\n        break;\n\n    case activeIndex === 0 && \"ArrowLeft\":\n        activeIndex = galleryItems.length - 1\n        refs.modalImg.src = galleryItems[activeIndex].original\n        break;\n    }\n}\n\n\nfunction openByEnter(event){\n    if(!event.target.classList.contains(\"gallery__link\") || event.key !== \"Enter\"){\n        return;\n    }\n    openModal(event)\n    // refs.modal.classList.add(\"is-open\")\n    // refs.modalImg.src = event.target.dataset.sourse\n    // window.addEventListener(\"keydown\", keyboardManipulation)\n}","import \"./js/gallery\""]}